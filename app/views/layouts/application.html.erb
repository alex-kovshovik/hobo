<!DOCTYPE html>
<html>
<head>
  <title>Hobo</title>

  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-status-bar-style" content="black" />
  <link rel="manifest" href="/manifest.json" />

  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>
  <script src="https://kit.fontawesome.com/2de86b198d.js" crossorigin="anonymous"></script>

  <%= turbo_refreshes_with method: :morph, scroll: :preserve %>
  <%= yield :head %>
</head>

<body class="bg-gray-100 dark:bg-slate-800 dark:text-slate-300">
  <!-- Navbar -->
<!--  TODO: Fix the vertical shift-->
<!--  <div class="bg-gray-200 p-3">-->
<!--    <nav class="flex justify-between">-->
<!--      <a href="/" class="text-gray-400 px-3 py-2 rounded-md text-md">Home</a>-->
      <%# if user_signed_in? %>
        <%#= link_to "Logout", destroy_user_session_path, data: { turbo_method: :delete }, class: "text-gray-400 px-3 py-2 rounded-md text-md" %>
      <%# else %>
        <%#= link_to "Login", new_user_session_path, class: "text-gray-400 px-3 py-2 rounded-md text-md" %>
      <%# end %>
<!--    </nav>-->
<!--  </div>-->

  <!-- Flash messages -->
  <% if notice.present? %>
    <div id="notice" class="fixed top-0 bg-green-500 text-white px-4 py-2 rounded z-50 m-4">
      <%= notice %>
    </div>
  <% end %>
  <% if alert.present? %>
    <div id="alert" class="fixed top-0 bg-red-500 text-white px-4 py-2 rounded z-50 m-4 mt-12">
      <%= alert %>
    </div>
  <% end %>

  <main class="container px-5">
    <%= yield %>
  </main>
</body>
</html>
